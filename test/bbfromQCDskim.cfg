process bbfromQCDskim = {

##########################################
# Runs on QCD events                     #
# Selects those containing a b-bbar pair #
# i.e About 5%                           #
##########################################

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
    untracked vstring fileNames = {
#  '/store/mc/2007/7/11/CSA07-QCD_Pt_80_120-2027/0001/0095C243-DA33-DC11-9636-00304885AAB8.root',
#  '/store/mc/2007/7/11/CSA07-QCD_Pt_80_120-2027/0001/04CFF87A-D933-DC11-BB05-000423D99A8E.root'
  '/store/mc/2007/7/17/CSA07-QCD_Pt_50_80-2049/0005/04AE7B0D-A339-DC11-8EC2-00E0814134C8.root',
  '/store/mc/2007/7/17/CSA07-QCD_Pt_50_80-2049/0005/0A4E54EB-AA39-DC11-BF51-000423D985E4.root'
    }

    #untracked uint32 debugVebosity = 10
    #untracked bool   debugFlag     = true
  }

  untracked PSet maxEvents = {untracked int32 input = 100}

  module bbFilter = MCParticlePairFilter {
        untracked vint32 ParticleID1 = {5}
        untracked vint32 ParticleID2 = {5}
        untracked int32 ParticleCharge = -1
        untracked vdouble MinEta = {-2.5,-2.5}
        untracked vdouble MaxEta = {2.5,2.5}
        untracked vint32 Status = {2,2}
        untracked vdouble MinPt = {10, 10}  
  }

  module out = PoolOutputModule {
    untracked string fileName = "/afs/cern.ch/user/t/tomalini/scratch0/Incbb_80_120.root"
    untracked vstring outputCommands = {
       # This just copies RECO, so keep everything.
       "keep *"
    }
  }

  untracked PSet options = { untracked bool wantSummary = true }

  endpath p = { bbFilter & out}
}
